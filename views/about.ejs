<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta http-equiv='cache-control' content='no-cache'> 
  <meta http-equiv='expires' content='0'> 
  <meta http-equiv='pragma' content='no-cache'> 
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>JobForge</title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="./css/bootstrap.css" />

  <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="./css/style.css" rel="stylesheet" />
  <!-- responsive style -->
  <link href="./css/responsive.css" rel="stylesheet" />
  <style>
  form {
    max-width: 600px;
    margin: 20px auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}
.card-container {
            display: flex;
            justify-content: space-between;
            margin: 20px;
        }

        .card {
            width: 30%;
            padding: 20px;
            background: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

form select {
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    margin-bottom: 15px;
}
.backcolor
{
  background-color: #ff8300;

}
.greencolor{
  background-color: darkslategrey;
}
form button {
    width: 100%;
    padding: 10px;
    box-sizing: border-box;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}</style>
<script>
    async function updateField2Options() {
        var categorySelect = document.getElementById('category');
        var field2Select = document.getElementById('field2');
        
        // Enable the second dropdown
        field2Select.disabled = false;
        const cat=categorySelect.value;
        // Clear existing options
        field2Select.innerHTML = '<option value="" disabled selected>Job Name</option>';
        await fetch(`http://localhost:7001/${cat}sapi`).then((res)=>{
         return res.json();
        }).then((data)=>{
          const arr=new Array();
          let arraymap;
           const currentDate=new Date();
           arraymap=data.map((val,i,arr)=>{if(data[i].openings>0  && new Date(data[i].lastdate).getTime() >= currentDate.getTime()){
            if(!arr.includes(data[i].jobname))
            {
            field2Select.innerHTML += `<option value=${data[i].jobname} name=${data[i].jobname}>${data[i].jobname}</option>`;
             arr.push(data[i].jobname);
            }
     
           }})
        });
        // Populate options based on the selected category
        // if (categorySelect.value === 'governmentjobs') {
        //     field2Select.innerHTML += '<option value="VRO" name="VRO">VRO</option>';
        //     field2Select.innerHTML += '<option value="MRO" name="MRO">MRO</option>';
        // } 
        // else if (categorySelect.value === 'softwarejobs') {
        //     field2Select.innerHTML += '<option value="productdeveloper" name="productdeveloper">productdeveloper</option>';
        //     field2Select.innerHTML += '<option value="tester" name="tester">tester</option>';
        // } 
        // else if (categorySelect.value === 'corejobsjobs') {
        //     field2Select.innerHTML += '<option value="electronic" name="electronic">electronic</option>';
        //     field2Select.innerHTML += '<option value="electrical" name="electrical">electrical</option>';
        // }
    }

   
</script>
</head>

<body class="sub_page">
  <div class=" hero_area ">
    <!-- header section strats -->
    <header class=" backcolor header_section">
      <div class="container-fluid">
        <nav class="backcolor navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html">
            <img src="https://pin.it/6vkxGH8wu" alt="" />
            <span>
              JobForge
            </span>
          </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav  ">
              <!-- <li class="nav-item">
                <a class="nav-link" href="index.ejs">Home <span class="sr-only">(current)</span></a>
              </li> -->
              <li class="nav-item active">
                <a class="nav-link" href="/about"> About</a>
              </li>
            </ul>
           
            <div class="user_option">
              <h1 style="color: black; font-size: medium; margin:5px"><%=user%></h1>
              <button class="nav-link" onclick="logout()">
               log out
              </button>
            </div>
          </div>
          <div>
            <div class="backcolor custom_menu-btn ">
              <button>
                <span class=" s-1">

                </span>
                <span class="s-2">

                </span>
                <span class="s-3">

                </span>
              </button>
            </div>
          </div>

        </nav>
      </div>
    </header>
    <!-- end header section -->
  </div>


  <!-- experience section -->

  <section class="experience_section layout_padding-top layout_padding2-bottom">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <div class="img-box justify-content-center">
            <img src="images/experience-img.jpg" alt="">
          </div>
        </div>
        
        <div class="card-container">
         
    
          <div class="card">
              <h3>Software Jobs</h3>
              <p>Find exciting opportunities in the software industry.</p>
              <a href="/jobs?category=softwarejobs" class="btn btn-success">View Jobs</a>
          </div>
    
          <div class="card">
              <h3>Core Jobs</h3>
              <p>Discover core engineering job openings.</p>
              <a href="/jobs?category=corejobs" class="btn btn-danger">View Jobs</a>
          </div>
          <div class="card">
            <h3>Your Applications</h3>
            <p>Check the status of your job applications.</p>
            <a href="/viewapplications" class="btn btn-info">View Applications</a>
        </div>
      </div>
    
      

      </div>
    </div>
  </section>

  <!-- end experience section -->

  <form class="bg-light p-4" action="/searchjob" method="post" >
    <select class="form-control" name="category" id="category" onchange="updateField2Options()">
        <option value=""  disabled selected>Select Category</option>
        <!-- <option value="governmentjob">government</option> -->
        <option value="softwarejob">software</option>
        <option value="corejob">corejobs</option>
        <!-- Add more options as needed -->
    </select>

    

    <select class="form-control" name="role" id="field2" disabled>
        
        
        <!-- Add more options as needed -->
    </select>

    <button  type="submit" class="btn btn-success">Search</button>
</form>
  <!-- about section -->

 
  <!-- <section class="about_section layout_padding-bottom">
    <div class="container">
      <div class="row">
        <div class="col-md-10 col-lg-9 mx-auto">
          <div class="img-box">
            <img src="images/about-img.jpg" alt="">
          </div>
        </div>
      </div>
      <div class="detail-box">
        <h2>
          About Spering Company
        </h2>
        <p>
          There are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If youThere are many variations of passages of Lorem Ipsum available, but the majority have suffered alteration in some form, by injected humour, or randomised words which don't look even slightly believable. If you
        </p>
        <a href="">
          Read More
        </a>
      </div>
    </div>
  </section>-->

  <!-- end about section -->

  <!-- info section -->

  <section class="info_section ">
    <div class="info_container layout_padding-top">
      <div class="cont#ainer">

              <img src="images/linkedin.png" alt="">
            </a>
            <a href="#">
              <img src="images/instagram.png" alt="">
            </a>
            <a href="#">
              <img src="images/youtube.png" alt="">
            </a>
          </div>
        </div>

        <div class="info_main">
          <div class="row">
            <div class="col-md-3 col-lg-2">
              <div class="info_link-box">
                <h5>
                  Useful Link
                </h5>
                <ul>
                  <li class=" active">
                    <a class="" href="index.html">Home <span class="sr-only">(current)</span></a>
                  </li>
                  <li class="">
                    <a class="" href="about.html">About </a>
                  </li>
                  <li class="">
                    <a class="" href="work.html">Work </a>
                  </li>
                  <li class="">
                    <a class="" href="category.html">Category </a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-md-3 ">
              <h5>
                Offices
              </h5>
              <p>
                Readable content of a page when looking at its layoutreadable content of a page when looking at its layout
              </p>
            </div>

            <div class="col-md-3 col-lg-2 offset-lg-1">
              <h5>
                Information
              </h5>
              <p>
                Readable content of a page when looking at its layoutreadable content of a page when looking at its layout
              </p>
            </div>

            <div class="col-md-3  offset-lg-1">
              <div class="info_form ">
                <h5>
                  Newsletter
                </h5>
                <form action="">
                  <input type="email" placeholder="Email">
                  <button>
                    Subscribe
                  </button>
                </form>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-9 col-md-10 mx-auto">
            <div class="info_contact layout_padding2">
              <div class="row">
                <div class="col-md-3">
                  <a href="#" class="link-box">
                    <div class="img-box">
                      <img src="images/location.png" alt="">
                    </div>
                    <div class="detail-box">
                      <h6>
                        Location
                      </h6>
                    </div>
                  </a>
                </div>
                <div class="col-md-4">
                  <a href="#" class="link-box">
                    <div class="img-box">
                      <img src="images/mail.png" alt="">
                    </div>
                    <div class="detail-box">
                      <h6>
                        demo@gmail.com
                      </h6>
                    </div>
                  </a>
                </div>
                <div class="col-md-5">
                  <a href="#" class="link-box">
                    <div class="img-box">
                      <img src="images/call.png" alt="">
                    </div>
                    <div class="detail-box">
                      <h6>
                        Call +01 1234567890
                      </h6>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- end info section -->

  <!-- footer section -->
  <footer class="container-fluid footer_section ">
    <div class="container">
      <p>
        &copy; <span id="displayDate"></span> All Rights Reserved By
        <a href="https://html.design/">Free Html Templates</a>
      </p>
    </div>
  </footer>
  <!-- end  footer section -->

<script>
  function logout()
  {
    fetch('/logout').then( data => {
      window.location.href="/"
    }
    )
  }
</script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/custom.js"></script>



</body>


</html>